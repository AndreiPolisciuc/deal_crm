"use strict";(self.webpackChunkdeal_crm=self.webpackChunkdeal_crm||[]).push([[538],{3822:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(9397),n=a(9002),l=a(579);const r=e=>{let{openPageName:t}=e;const a=(0,n.zy)().pathname.split("/").filter(Boolean);return(0,l.jsxs)(s.A,{children:[(0,l.jsx)(s.A.Item,{linkAs:n.N_,linkProps:{to:"/"},children:"Home"}),a.map(((e,r)=>{const c="/"+a.slice(0,r+1).join("/");return r===a.length-1?(0,l.jsx)(s.A.Item,{active:!0,children:t},c):(0,l.jsx)(s.A.Item,{linkAs:n.N_,linkProps:{to:c},children:decodeURIComponent(e)},c)}))]})}},4196:(e,t,a)=>{a.d(t,{A:()=>x});var s=a(9379),n=a(45),l=a(8139),r=a.n(l),c=a(5043),o=a(7852),d=a(579);const i=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],h=c.forwardRef(((e,t)=>{let{bsPrefix:a,className:l,striped:c,bordered:h,borderless:x,hover:m,size:j,variant:A,responsive:p}=e,u=(0,n.A)(e,i);const C=(0,o.oU)(a,"table"),v=r()(l,C,A&&"".concat(C,"-").concat(A),j&&"".concat(C,"-").concat(j),c&&"".concat(C,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),h&&"".concat(C,"-bordered"),x&&"".concat(C,"-borderless"),m&&"".concat(C,"-hover")),b=(0,d.jsx)("table",(0,s.A)((0,s.A)({},u),{},{className:v,ref:t}));if(p){let e="".concat(C,"-responsive");return"string"===typeof p&&(e="".concat(e,"-").concat(p)),(0,d.jsx)("div",{className:e,children:b})}return b}));h.displayName="Table";const x=h},5538:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(5043),n=a(3519),l=a(4282),r=a(3581),c=a(9379),o=a(7339),d=a(9853),i=a(8602),h=a(1072),x=a(579);const m=e=>{let{handleClose:t}=e;const[a,n]=(0,s.useState)({name:"",text:""}),[r,m]=(0,s.useState)(!1),j=(0,o.o)((e=>e.addCompany)),A=e=>{n((0,c.A)((0,c.A)({},a),{},{[e.target.name]:e.target.value}))};return(0,x.jsx)(d.A,{noValidate:!0,validated:r,onSubmit:async e=>{const s=e.currentTarget;e.preventDefault(),!1===s.checkValidity()&&(e.preventDefault(),e.stopPropagation()),m(!0),!1!==s.checkValidity()&&(await j(a),n({name:"",text:""}),t())},children:(0,x.jsxs)(i.A,{className:"mb-3 text-start ",children:[(0,x.jsx)(h.A,{className:"mb-3 text-start ",children:(0,x.jsxs)(d.A.Group,{controlId:"validationCustom01",children:[(0,x.jsx)(d.A.Label,{children:"Company name*"}),(0,x.jsx)(d.A.Control,{name:"name",required:!0,type:"text",placeholder:"Company Name",value:a.name,onChange:A}),(0,x.jsx)(d.A.Control.Feedback,{children:"Looks good!"})]})}),(0,x.jsx)(h.A,{className:"mb-3 text-start",children:(0,x.jsxs)(d.A.Group,{controlId:"exampleForm.ControlTextarea1",children:[(0,x.jsx)(d.A.Label,{children:"Text"}),(0,x.jsx)(d.A.Control,{className:"mb-3",as:"textarea",rows:3,name:"text",value:a.text,onChange:A})]})}),(0,x.jsx)(l.A,{className:"mx-1",type:"submit",children:"Create"}),(0,x.jsx)(l.A,{onClick:t,className:"mx-1",variant:"danger",children:"Cancel"})]})})},j=e=>{let{show:t,handleClose:a}=e;return(0,x.jsxs)(r.A,{show:t,placement:"end",onHide:a,scroll:!0,children:[(0,x.jsx)(r.A.Header,{closeButton:!0,children:(0,x.jsx)(r.A.Title,{children:"Create Company"})}),(0,x.jsx)(r.A.Body,{children:(0,x.jsx)(m,{handleClose:a})})]})};var A=a(4196),p=a(9002),u=a(3083);const C=e=>{let{id:t,showDeleteModal:a,handleCloseDeleteModal:s}=e;const{deleteCompany:n}=(0,o.o)();return(0,x.jsxs)(u.A,{show:a,onHide:s,centered:!0,children:[(0,x.jsx)(u.A.Header,{closeButton:!0,children:(0,x.jsx)(u.A.Title,{children:"Warning"})}),(0,x.jsx)(u.A.Body,{children:"Are you sure you want to delete the company?"}),(0,x.jsxs)(u.A.Footer,{children:[(0,x.jsx)(l.A,{variant:"secondary",onClick:s,children:"Cancel"}),(0,x.jsx)(l.A,{variant:"danger",onClick:()=>{s(),n(t)},children:"Delete"})]})]})};var v=a(9472);const b=()=>{const{companies:e,fetchCompanies:t}=(0,o.o)(),[a,n]=(0,s.useState)(0),[r,c]=(0,s.useState)(!1),[d,i]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{t()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(A.A,{striped:!0,bordered:!0,hover:!0,children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{className:"text-start",children:"Name"}),(0,x.jsx)("th",{children:"Created at"}),(0,x.jsx)("th",{children:"Action"})]})}),(0,x.jsx)("tbody",{children:e.map((e=>(0,x.jsxs)("tr",{className:e.active?"":"table-secondary text-muted",children:[(0,x.jsx)("td",{children:e.id}),(0,x.jsx)("td",{className:"text-start",children:(0,x.jsx)(p.N_,{to:"/companies/".concat(e.id),children:e.name})}),(0,x.jsx)("td",{className:"w-25",children:new Date(e.created_at).toLocaleString()}),(0,x.jsxs)("td",{children:[(0,x.jsx)(l.A,{variant:"secondary",className:"m-1",onClick:()=>(e=>{n(e),i(!0)})(e.id),children:(0,x.jsx)("i",{className:"bi bi-pencil"})}),(0,x.jsx)(l.A,{variant:"danger",className:"m-1",onClick:()=>(e=>{n(e),c(!0)})(e.id),children:(0,x.jsx)("i",{className:"bi bi-trash"})})]})]},e.id)))})]}),(0,x.jsx)(C,{id:a,showDeleteModal:r,handleCloseDeleteModal:()=>{c(!1),n(0)}}),(0,x.jsx)(v.A,{id:a,showEditSidePanel:d,handleCloseEditSidePanel:()=>{i(!1),n(0)}})]})};var y=a(3822);const N=()=>{const[e,t]=(0,s.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(n.A,{children:[(0,x.jsx)("h1",{children:"Companies Page"}),(0,x.jsx)(y.A,{openPageName:"Companies Page"}),(0,x.jsx)("div",{className:"d-flex justify-content-end",children:(0,x.jsxs)(l.A,{className:"mb-3",variant:"primary",onClick:()=>t(!0),children:[(0,x.jsx)("i",{className:"me-2 bi bi-plus-circle"}),"Add Company"]})}),(0,x.jsx)(b,{})]}),(0,x.jsx)(j,{show:e,handleClose:()=>t(!1)})]})}},9472:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(5043),n=a(3581),l=a(9379),r=a(9853),c=a(8602),o=a(1072),d=a(4282),i=a(7339),h=a(579);const x=e=>{let{id:t,handleCloseEditSidePanel:a}=e;const{company:n,fetchCompany:x,updateCompany:m}=(0,i.o)(),[j,A]=(0,s.useState)({id:0,name:"",text:"",active:!0}),[p,u]=(0,s.useState)(!1),C=e=>{A((0,l.A)((0,l.A)({},j),{},{[e.target.name]:e.target.value}))};return(0,s.useEffect)((()=>{x(t)}),[]),(0,s.useEffect)((()=>{A({id:t,name:null===n||void 0===n?void 0:n.name,text:null===n||void 0===n?void 0:n.text,active:null===n||void 0===n?void 0:n.active})}),[n]),(0,h.jsx)(r.A,{noValidate:!0,validated:p,onSubmit:async e=>{const t=e.currentTarget;e.preventDefault(),!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),u(!0),!1!==t.checkValidity()&&(await m(j),A({id:0,name:"",text:"",active:!0}),a())},children:(0,h.jsxs)(c.A,{className:"mb-3 text-start ",children:[(0,h.jsx)(o.A,{className:"mb-3 text-start ",children:(0,h.jsxs)(r.A.Group,{controlId:"validationCustom01",children:[(0,h.jsx)(r.A.Label,{children:"Company Name"}),(0,h.jsx)(r.A.Control,{name:"name",required:!0,type:"text",placeholder:"Company Name",value:j.name,onChange:C}),(0,h.jsx)(r.A.Control.Feedback,{children:"Looks good!"})]})}),(0,h.jsx)(o.A,{className:"mb-3 text-start ",children:(0,h.jsx)(r.A.Group,{children:(0,h.jsx)(r.A.Check,{checked:j.active,type:"switch",id:"custom-switch",label:"Active",onChange:e=>A((0,l.A)((0,l.A)({},j),{},{active:e.target.checked}))})})}),(0,h.jsx)(o.A,{className:"mb-3 text-start",children:(0,h.jsxs)(r.A.Group,{controlId:"exampleForm.ControlTextarea1",children:[(0,h.jsx)(r.A.Label,{children:"Text"}),(0,h.jsx)(r.A.Control,{className:"mb-3",as:"textarea",rows:3,name:"text",value:j.text,onChange:C})]})}),(0,h.jsx)(d.A,{className:"mx-1",type:"submit",children:"Update"}),(0,h.jsx)(d.A,{onClick:a,className:"mx-1",variant:"danger",children:"Cancel"})]})})},m=e=>{let{id:t,showEditSidePanel:a,handleCloseEditSidePanel:s}=e;return(0,h.jsxs)(n.A,{show:a,onHide:s,placement:"end",children:[(0,h.jsx)(n.A.Header,{closeButton:!0,children:(0,h.jsx)(n.A.Title,{children:"Edit Company"})}),(0,h.jsx)(n.A.Body,{children:(0,h.jsx)(x,{id:t,handleCloseEditSidePanel:s})})]})}}}]);
//# sourceMappingURL=538.2fa617b0.chunk.js.map