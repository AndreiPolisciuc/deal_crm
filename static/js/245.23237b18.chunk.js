"use strict";(self.webpackChunkdeal_crm=self.webpackChunkdeal_crm||[]).push([[245],{3245:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(5043),r=s(3519),n=s(4282),l=s(3822),o=s(3581),d=s(9379),c=s(9974),i=s(9853),h=s(8602),x=s(1072),m=s(579);const j=e=>{let{handleClose:t}=e;const[s,r]=(0,a.useState)({name:"",text:"",sort:500}),[l,o]=(0,a.useState)(!1),j=(0,c.D)((e=>e.addTypeOfWork)),u=e=>{r((0,d.A)((0,d.A)({},s),{},{[e.target.name]:e.target.value}))};return(0,m.jsx)(i.A,{noValidate:!0,validated:l,onSubmit:async e=>{const a=e.currentTarget;e.preventDefault(),!1===a.checkValidity()&&(e.preventDefault(),e.stopPropagation()),o(!0),!1!==a.checkValidity()&&(await j(s),r({name:"",text:"",sort:500}),t())},children:(0,m.jsxs)(h.A,{className:"mb-3 text-start ",children:[(0,m.jsx)(x.A,{className:"mb-3 text-start ",children:(0,m.jsxs)(i.A.Group,{controlId:"validationCustom01",children:[(0,m.jsx)(i.A.Label,{children:"Type Of Work Name*"}),(0,m.jsx)(i.A.Control,{name:"name",required:!0,type:"text",placeholder:"Type Of Work Name",value:s.name,onChange:u}),(0,m.jsx)(i.A.Control.Feedback,{children:"Looks good!"})]})}),(0,m.jsx)(x.A,{className:"mb-3 text-start ",children:(0,m.jsxs)(i.A.Group,{controlId:"validationCustom01",children:[(0,m.jsx)(i.A.Label,{children:"Sort*"}),(0,m.jsx)(i.A.Control,{name:"sort",required:!0,type:"number",defaultValue:500,value:s.sort,onChange:u}),(0,m.jsx)(i.A.Control.Feedback,{children:"Looks good!"})]})}),(0,m.jsx)(n.A,{className:"mx-1",type:"submit",children:"Create"}),(0,m.jsx)(n.A,{onClick:t,className:"mx-1",variant:"danger",children:"Cancel"})]})})},u=e=>{let{show:t,handleClose:s}=e;return(0,m.jsxs)(o.A,{show:t,placement:"end",onHide:s,scroll:!0,children:[(0,m.jsx)(o.A.Header,{closeButton:!0,children:(0,m.jsx)(o.A.Title,{children:"Create Type Of Work"})}),(0,m.jsx)(o.A.Body,{children:(0,m.jsx)(j,{handleClose:s})})]})};var A=s(4196),p=s(3083);const v=e=>{let{id:t,showDeleteModal:s,handleCloseDeleteModal:a}=e;const{deleteTypeOfWork:r}=(0,c.D)();return(0,m.jsxs)(p.A,{show:s,onHide:a,centered:!0,children:[(0,m.jsx)(p.A.Header,{closeButton:!0,children:(0,m.jsx)(p.A.Title,{children:"Warning"})}),(0,m.jsx)(p.A.Body,{children:"Are you sure you want to delete the type of work?"}),(0,m.jsxs)(p.A.Footer,{children:[(0,m.jsx)(n.A,{variant:"secondary",onClick:a,children:"Cancel"}),(0,m.jsx)(n.A,{variant:"danger",onClick:()=>{a(),r(t)},children:"Delete"})]})]})},k=e=>{let{id:t,handleCloseEditSidePanel:s}=e;const{typeOfWork:r,fetchTypeOfWork:l,updateTypeOfWork:o}=(0,c.D)(),[j,u]=(0,a.useState)({id:0,name:"",text:"",active:!0,sort:500}),[A,p]=(0,a.useState)(!1),v=e=>{u((0,d.A)((0,d.A)({},j),{},{[e.target.name]:e.target.value}))};return(0,a.useEffect)((()=>{l(t)}),[]),(0,a.useEffect)((()=>{u({id:t,name:null===r||void 0===r?void 0:r.name,text:null===r||void 0===r?void 0:r.text,active:null===r||void 0===r?void 0:r.active,sort:null===r||void 0===r?void 0:r.sort})}),[r]),(0,m.jsx)(i.A,{noValidate:!0,validated:A,onSubmit:async e=>{const t=e.currentTarget;e.preventDefault(),!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),p(!0),!1!==t.checkValidity()&&(await o(j),u({id:0,name:"",text:"",active:!0,sort:500}),s())},children:(0,m.jsxs)(h.A,{className:"mb-3 text-start ",children:[(0,m.jsx)(x.A,{className:"mb-3 text-start ",children:(0,m.jsxs)(i.A.Group,{controlId:"validationCustom01",children:[(0,m.jsx)(i.A.Label,{children:"Type Of Work Name*"}),(0,m.jsx)(i.A.Control,{name:"name",required:!0,type:"text",placeholder:"Type Of Work Name",value:j.name,onChange:v}),(0,m.jsx)(i.A.Control.Feedback,{children:"Looks good!"})]})}),(0,m.jsx)(x.A,{className:"mb-3 text-start ",children:(0,m.jsxs)(i.A.Group,{controlId:"validationCustom01",children:[(0,m.jsx)(i.A.Label,{children:"Sort*"}),(0,m.jsx)(i.A.Control,{name:"sort",required:!0,type:"number",value:j.sort,onChange:v}),(0,m.jsx)(i.A.Control.Feedback,{children:"Looks good!"})]})}),(0,m.jsx)(x.A,{className:"mb-3 text-start ",children:(0,m.jsx)(i.A.Group,{children:(0,m.jsx)(i.A.Check,{checked:j.active,type:"switch",id:"custom-switch",label:"Active",onChange:e=>u((0,d.A)((0,d.A)({},j),{},{active:e.target.checked}))})})}),(0,m.jsx)(n.A,{className:"mx-1",type:"submit",children:"Update"}),(0,m.jsx)(n.A,{onClick:s,className:"mx-1",variant:"danger",children:"Cancel"})]})})},b=e=>{let{id:t,showEditSidePanel:s,handleCloseEditSidePanel:a}=e;return(0,m.jsxs)(o.A,{show:s,onHide:a,placement:"end",children:[(0,m.jsx)(o.A.Header,{closeButton:!0,children:(0,m.jsx)(o.A.Title,{children:"Edit Type Of Work"})}),(0,m.jsx)(o.A.Body,{children:(0,m.jsx)(k,{id:t,handleCloseEditSidePanel:a})})]})},y=()=>{const{typesOfWork:e,fetchTypesOfWork:t}=(0,c.D)(),[s,r]=(0,a.useState)(0),[l,o]=(0,a.useState)(!1),[d,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{t()}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(A.A,{striped:!0,bordered:!0,hover:!0,children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"#"}),(0,m.jsx)("th",{className:"text-start",children:"Name"}),(0,m.jsx)("th",{children:"Sort"}),(0,m.jsx)("th",{children:"Action"})]})}),(0,m.jsx)("tbody",{children:e.map((e=>(0,m.jsxs)("tr",{className:e.active?"":"table-secondary text-muted",children:[(0,m.jsx)("td",{children:e.id}),(0,m.jsx)("td",{className:"text-start",children:e.name}),(0,m.jsx)("td",{className:"w-25",children:e.sort}),(0,m.jsxs)("td",{children:[(0,m.jsx)(n.A,{variant:"secondary",className:"m-1",onClick:()=>(e=>{r(e),i(!0)})(e.id),children:(0,m.jsx)("i",{className:"bi bi-pencil"})}),(0,m.jsx)(n.A,{variant:"danger",className:"m-1",onClick:()=>(e=>{r(e),o(!0)})(e.id),children:(0,m.jsx)("i",{className:"bi bi-trash"})})]})]},e.id)))})]}),(0,m.jsx)(v,{id:s,showDeleteModal:l,handleCloseDeleteModal:()=>{o(!1),r(0)}}),(0,m.jsx)(b,{id:s,showEditSidePanel:d,handleCloseEditSidePanel:()=>{i(!1),r(0)}})]})},f=()=>{const[e,t]=(0,a.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(r.A,{children:[(0,m.jsx)("h1",{children:"Types of work"}),(0,m.jsx)(l.A,{openPageName:"Types of work"}),(0,m.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,m.jsxs)(n.A,{variant:"primary",onClick:()=>t(!0),children:[(0,m.jsx)("i",{className:"me-2 bi bi-plus-circle"}),"Add Type"]})}),(0,m.jsx)(y,{})]}),(0,m.jsx)(u,{show:e,handleClose:()=>t(!1)})]})}},3822:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(9397),r=s(9002),n=s(579);const l=e=>{let{openPageName:t}=e;const s=(0,r.zy)().pathname.split("/").filter(Boolean);return(0,n.jsxs)(a.A,{children:[(0,n.jsx)(a.A.Item,{linkAs:r.N_,linkProps:{to:"/"},children:"Home"}),s.map(((e,l)=>{const o="/"+s.slice(0,l+1).join("/");return l===s.length-1?(0,n.jsx)(a.A.Item,{active:!0,children:t},o):(0,n.jsx)(a.A.Item,{linkAs:r.N_,linkProps:{to:o},children:decodeURIComponent(e)},o)}))]})}},4196:(e,t,s)=>{s.d(t,{A:()=>x});var a=s(9379),r=s(45),n=s(8139),l=s.n(n),o=s(5043),d=s(7852),c=s(579);const i=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],h=o.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,striped:o,bordered:h,borderless:x,hover:m,size:j,variant:u,responsive:A}=e,p=(0,r.A)(e,i);const v=(0,d.oU)(s,"table"),k=l()(n,v,u&&"".concat(v,"-").concat(u),j&&"".concat(v,"-").concat(j),o&&"".concat(v,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),h&&"".concat(v,"-bordered"),x&&"".concat(v,"-borderless"),m&&"".concat(v,"-hover")),b=(0,c.jsx)("table",(0,a.A)((0,a.A)({},p),{},{className:k,ref:t}));if(A){let e="".concat(v,"-responsive");return"string"===typeof A&&(e="".concat(e,"-").concat(A)),(0,c.jsx)("div",{className:e,children:b})}return b}));h.displayName="Table";const x=h}}]);
//# sourceMappingURL=245.23237b18.chunk.js.map